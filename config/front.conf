#This file is the proxy nginx server

server {
	 #TLS configuration
	
	 listen 4430 ssl;
	 listen [::]:4430 ssl;
	
	 #Note: You should disable gzip for SSL traffic.
	 #See: https://bugs.debian.org/773332
	
	 #Read up on ssl_ciphers to ensure a secure configuration.
	 #See: https://bugs.debian.org/765782
	
	 #Self signed certs generated by the ssl-cert package
	 #Don't use them in a production server!
	
	 #include snippets/snakeoil.conf;

	location / {
        proxy_pass http://127.0.0.1:8080;
	}
}


server {
	listen 80;
	listen [::]:80;

    gzip on;
	gzip_disable "msie6";

	gzip_vary on;
	gzip_proxied any;
	gzip_comp_level 6;
	gzip_buffers 16 8k;
	gzip_http_version 1.1;
	gzip_types text/plain text/css application/json application/javascript text/xml application/x$

	location / {
        proxy_pass http://127.0.0.1:8080;
	}
}
